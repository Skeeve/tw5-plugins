{
    "title": "$:/plugins/skeeve/action-increment",
    "description": "An actionWidget to increment a value",
    "author": "Skeeve",
    "version": "1.0.6",
    "core-version": ">=5.1.3",
    "plugin-type": "plugin",
    "list": "readme license",
    "dependents": "",
    "type": "application/json",
    "text": "{\n    \"tiddlers\": {\n        \"$:/plugins/skeeve/widgets/action-increment.js\": {\n            \"title\": \"$:/plugins/skeeve/widgets/action-increment.js\",\n            \"text\": \"/*\\\\\\ntitle: $:/plugins/skeeve/widgets/action-increment.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nAction widget to increment a value specified by a text reference\\n\\n<$action-increment $reference=\\\"Tiddler!!field\\\"/>\\n\\n\\\\*/\\n(function(){\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false */\\n\\\"use strict\\\";\\n\\nvar Widget = require(\\\"$:/core/modules/widgets/widget.js\\\").widget;\\n\\nvar IncrementWidget = function(parseTreeNode,options) {\\n\\tthis.initialise(parseTreeNode,options);\\n};\\n\\n/*\\nInherit from the base widget class\\n*/\\nIncrementWidget.prototype = new Widget();\\n\\n/*\\nRender this widget into the DOM\\n*/\\nIncrementWidget.prototype.render = function(parent,nextSibling) {\\n\\tthis.computeAttributes();\\n\\tthis.execute();\\n};\\n\\n/*\\nCompute the internal state of the widget\\n*/\\nIncrementWidget.prototype.execute = function() {\\n\\tthis.actionReference = this.getAttribute(\\\"$reference\\\");\\n};\\n\\n/*\\nRefresh the widget by ensuring our attributes are up to date\\n*/\\nIncrementWidget.prototype.refresh = function(changedTiddlers) {\\n\\tvar changedAttributes = this.computeAttributes();\\n\\tif($tw.utils.count(changedAttributes) > 0) {\\n\\t\\tthis.refreshSelf();\\n\\t\\treturn true;\\n\\t}\\n\\treturn this.refreshChildren(changedTiddlers);\\n};\\n\\n/*\\nInvoke the action associated with this widget\\n*/\\nIncrementWidget.prototype.invokeAction = function(triggeringWidget,event) {\\n\\tif(this.actionReference) {\\n\\t\\tvar value=this.wiki.getTextReference(this.actionReference,\\\"0\\\",this.getVariable(\\\"currentTiddler\\\"));\\n\\t\\tvar shattered= value.split(/(\\\\d+)/);\\n\\t\\tif(shattered.length>2) {\\n\\t\\t\\tshattered[1]= (((\\\"10\\\"+shattered[1])*1+1)+\\\"\\\").replace(/^10?/, \\\"\\\");\\n\\t\\t\\tvalue= shattered.join(\\\"\\\");\\n\\t\\t\\tthis.wiki.setTextReference(this.actionReference,value,this.getVariable(\\\"currentTiddler\\\"));\\n\\t\\t}\\n\\t}\\n\\treturn true; // Action was invoked\\n};\\n\\nexports[\\\"action-increment\\\"] = IncrementWidget;\\n\\n})();\\n\",\n            \"type\": \"application/javascript\",\n            \"module-type\": \"widget\"\n        },\n        \"$:/plugins/skeeve/action-increment/icon\": {\n            \"title\": \"$:/plugins/skeeve/action-increment/icon\",\n            \"created\": \"20180222184551000\",\n            \"modified\": \"20180225094227000\",\n            \"text\": \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"22pt\\\" height=\\\"22pt\\\" viewBox=\\\"0 0 43.536 50.271\\\"><path fill=\\\"#ccc\\\" d=\\\"M21.768 0l21.768 12.568v25.135L21.768 50.271 0 37.703V12.568z\\\"/><path fill=\\\"#de87cd\\\" d=\\\"M17.8 3.969h7.937v13.229h-7.938zM9.862 17.198H17.8V41.01H9.862zm15.875 0h7.938V41.01h-7.938zM1.924 25.136h7.938v7.937H1.924z\\\"/><path fill=\\\"#de87cd\\\" d=\\\"M17.799 25.135h7.938v7.938h-7.938zm15.875 0h7.938v7.938h-7.938z\\\"/></svg>\\n\"\n        },\n        \"$:/plugins/skeeve/action-increment/license\": {\n            \"title\": \"$:/plugins/skeeve/action-increment/license\",\n            \"created\": \"20180223222944000\",\n            \"modified\": \"20180223222944000\",\n            \"text\": \"The action-increment plugin is published under a the same [[permissive BSD 3-Clause License|https://opensource.org/licenses/BSD-3-Clause]] as [[TiddlyWiki|https://tiddlywiki.com]] stored in the shadow tiddler [[$:/core/copyright.txt]]:\\n\\n<div style=\\\"font-size: 0.5em;line-height:1.4;\\\">\\n\\n{{$:/core/copyright.txt}}\\n\\n</div>\\n\"\n        },\n        \"$:/plugins/skeeve/action-increment/readme\": {\n            \"title\": \"$:/plugins/skeeve/action-increment/readme\",\n            \"created\": \"20180223222944000\",\n            \"modified\": \"20180223224556000\",\n            \"agent\": \"Agent 007\",\n            \"text\": \"! Introduction\\n\\nThe ''action-increment'' widget is an [[action widget|https://tiddlywiki.com/#ActionWidgets]] that retrieves a value from a text reference. It will then increase the first digit-sequence found in that text and store it.\\n\\n! Content and Attributes\\n\\nThe ''action-increment'' widget is invisible. Any content within it is ignored.\\n\\n|!Attribute |!Description |\\n|$reference |Just a normal [[TextReference|https://tiddlywiki.com/#TextReference]] defining where the value to be incremented, is stored |\\n\\n! Examples\\n\\n```\\n<$button>\\n  <$action-increment $reference=\\\"!!agent\\\"/>\\n  This will increment\\n</$button> \\\"{{$:/plugins/skeeve/action-increment/readme!!agent}}\\\".\\n```\\n\\n<$button>\\n  <$action-increment $reference=\\\"!!agent\\\"/>\\n  This will increment\\n</$button> \\\"{{$:/plugins/skeeve/action-increment/readme!!agent}}\\\".\\n\"\n        }\n    }\n}"
}